<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Test Ladeanimation</title>
  <style>
  #loader-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, 0.6); /* neutraleres Overlay */
    backdrop-filter: blur(12px);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
  }

  #loader-overlay.active {
    opacity: 1;
    pointer-events: all;
  }

  @keyframes spin {
    to { transform: rotate(360deg); }
  }

  @keyframes pulse {
    0%, 100% { transform: scale(1); opacity: 0.9; }
    50% { transform: scale(1.15); opacity: 1; }
  }
  </style>
  <script type="module" src="https://esm.run/@material/web/progress/circular-progress.js"></script>
</head>
<body>
  <!-- Ladeanimation Overlay -->
  <div id="loader-overlay">
    <md-circular-progress indeterminate density="0"></md-circular-progress>
  </div>

  <div id="page-content">
    <h1>Beispielseite mit Ladeanimation</h1>
    <p>Hier sind ein paar Links, auf die du klicken kannst:</p>
    <ul>
      <li><a href="https://www.example.com" target="_blank" rel="noopener">Externer Link (neuer Tab)</a></li>
      <li><a href="https://www.wikipedia.org">Wikipedia</a></li>
      <li><a href="#test-anchor">Interner Anker</a></li>
      <li><a href="test2.html">Interne Seite</a></li>
    </ul>
  </div>

  <script>
    // Funktion, um eine Farbe aus einer Palette von Material 3 Expressive Farben zu erzeugen
    function getRandomColor() {
      const colors = ['#6750A4', '#93328E', '#006494', '#018786', '#B00020', '#FFB300', '#4CAF50', '#2962FF'];
      const index = Math.floor(Math.random() * colors.length);
      return colors[index];
    }

    // Loader-Overlay beim Klick auf Links anzeigen
    document.addEventListener('DOMContentLoaded', function() {
      var loader = document.getElementById('loader-overlay');
      var pageContent = document.getElementById('page-content');
      var spinner = loader.querySelector('md-circular-progress');

      // Initial: zufällige Farbe setzen
      spinner.style.setProperty('--md-sys-color-primary', getRandomColor());

      // Initial: page-content unsichtbar, Loader sichtbar
      loader.classList.add('active');
      pageContent.style.opacity = '0';
      setTimeout(function() {f
        loader.classList.remove('active');
        pageContent.style.opacity = '1';
      }, 1000); // 1 Sekunde Loader anzeigen

      document.body.addEventListener('click', function(e) {
        var link = e.target.closest('a');
        if (link && link.href && !link.hasAttribute('target') && link.getAttribute('href').charAt(0) !== '#') {
          e.preventDefault();
          // Neue zufällige Farbe setzen
          spinner.style.setProperty('--md-sys-color-primary', getRandomColor());
          loader.classList.add('active');
          setTimeout(function() {
            window.location.href = link.href;
          }, 700); // 700ms Verzögerung
        }
      });
    });
  </script>
</body>
</html>
  <style>
    #page-content {
      opacity: 0;
      transition: opacity 0.5s ease;
    }
  </style>